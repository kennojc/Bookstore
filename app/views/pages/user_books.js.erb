book_table = document.getElementById('userbooklist');
while (book_table.firstChild) {
    book_table.removeChild(book_table.firstChild);
}

<% unless @reservations.nil? %>
    <% @reservations.each do |reserved| %>
        book_table.insertAdjacentHTML("beforeend","<%= escape_javascript render "pages/userbooks", reservation: reserved %>")
    <% end %>
<% end %> 